---
- name: Configure Cisco Routers
  hosts: Routers
  gather_facts: no
  connection: network_cli

  tasks:
    - name: Configure hostname
      ios_config:
        lines:
          - hostname ROUTER-AWX

    - name: Configure Loopback0 interface
      ios_config:
        parents: interface Loopback0
        lines:
          - ip address 20.20.20.1 255.255.255.0
          - no shutdown

    - name: Configure MOTD banner
      ios_config:
        lines:
          - banner motd ^Authorized access only!^
